======================================================================
Pascal-S Compiler - AST Output
Source: test/milestone-3/input/test_1_valid.pas
======================================================================

----------------------------------------------------------------------
SYMBOL TABLE:
----------------------------------------------------------------------
tab (identifier table):
idx  id                  obj         typ   ref   nrm  lev  adr  link 
---------------------------------------------------------------------
0    program             (reserved word)
1    variabel            (reserved word)
2    mulai               (reserved word)
3    selesai             (reserved word)
4    jika                (reserved word)
5    maka                (reserved word)
6    selain-itu          (reserved word)
7    selama              (reserved word)
8    lakukan             (reserved word)
9    untuk               (reserved word)
10   ke                  (reserved word)
11   turun-ke            (reserved word)
12   integer             (reserved word)
13   real                (reserved word)
14   boolean             (reserved word)
15   char                (reserved word)
16   larik               (reserved word)
17   dari                (reserved word)
18   prosedur            (reserved word)
19   fungsi              (reserved word)
20   konstanta           (reserved word)
21   tipe                (reserved word)
22   string              (reserved word)
23   kasus               (reserved word)
24   ulangi              (reserved word)
25   sampai              (reserved word)
26   rekaman             (reserved word)
27   dan                 (reserved word)
28   atau                (reserved word)
29   tidak               (reserved word)
30   bagi                (reserved word)
31   mod                 (reserved word)
32   ProgramValid        program     0     -1    1    0    0    -1   
33   MAX_NILAI           constant    1     0     1    0    0    32   
34   PI                  constant    1     0     1    0    0    33   
35   NAMA_PROGRAM        constant    6     0     1    0    0    34   
36   x                   variable    1     -1    1    0    0    35   
37   y                   variable    1     -1    1    0    1    36   
38   z                   variable    1     -1    1    0    2    37   
39   hasil               variable    2     -1    1    0    3    38   
40   selesaiFlag         variable    3     -1    1    0    5    39   
41   karakter            variable    4     -1    1    0    6    40   
42   kuadrat             function    1     1     1    0    0    -1   
43   n                   parameter   1     -1    1    1    7    -1   
44   temp                variable    1     -1    1    1    8    43   
45   faktorial           function    1     2     1    0    0    44   
46   num                 parameter   1     -1    1    1    9    44   
47   result              variable    1     -1    1    1    10   46   
48   i                   variable    1     -1    1    1    11   47   
49   tampilkan           procedure   0     3     1    0    0    48   
50   nilai               parameter   1     -1    1    1    12   48   
51   pesan               parameter   4     -1    1    1    13   50   
52   hitungTotal         procedure   0     4     1    0    0    51   
53   a                   parameter   1     -1    1    1    14   51   
54   b                   parameter   1     -1    1    1    15   53   
55   c                   parameter   1     -1    1    1    16   54   
56   flag                parameter   3     -1    1    1    17   55   
57   total               variable    1     -1    1    1    18   56   

btab (block table):
idx  last   lpar   psze   vsze   
---------------------------------
0    -1     -1     0      0      
1    44     43     1      0      
2    48     46     1      0      
3    51     51     2      0      
4    57     56     4      0      

atab (array table):
atab: (kosong karena tidak ada array)

----------------------------------------------------------------------
DECORATED AST:
Legend: → tab_index:<idx>, type:<type>, lev:<scope_level>
----------------------------------------------------------------------

ProgramNode(name: 'ProgramValid')
 ├─ Declarations
 │  ├─ ConstDecl('MAX_NILAI') → tab_index:33, type:integer, lev:0
 │  ├─ ConstDecl('PI') → tab_index:34, type:integer, lev:0
 │  ├─ ConstDecl('NAMA_PROGRAM') → tab_index:35, type:string, lev:0
 │  ├─ VarDecl('x')
 │  ├─ VarDecl('y')
 │  ├─ VarDecl('z')
 │  ├─ VarDecl('hasil')
 │  ├─ VarDecl('selesaiFlag')
 │  ├─ VarDecl('karakter')
 │  ├─ FunctionDecl('kuadrat') → tab_index:42, type:integer, lev:0
 │  │  ├─ Param('n') → tab_index:43, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  └─ VarDecl('temp')
 │  │  └─ Block
 │  │     └─ Assign('temp' := n*n) → type:integer
 │  ├─ FunctionDecl('faktorial') → tab_index:45, type:integer, lev:0
 │  │  ├─ Param('num') → tab_index:46, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  ├─ VarDecl('result')
 │  │  │  └─ VarDecl('i')
 │  │  └─ Block
 │  │     ├─ Assign('result' := 1) → type:integer
 │  │     └─ For('i' to)
 │  │        ├─ 1 → type:integer, lev:1
 │  │        ├─ 'num' → tab_index:46, type:integer, lev:1
 │  │        └─ Assign('result' := result*i) → type:integer
 │  ├─ ProcedureDecl('tampilkan') → tab_index:49, type:void, lev:0
 │  │  ├─ Param('nilai') → tab_index:50, type:integer, lev:1
 │  │  ├─ Param('pesan') → tab_index:51, type:char, lev:1
 │  │  └─ Block
 │  │     ├─ Assign('x' := nilai) → type:integer
 │  │     └─ Assign('karakter' := pesan) → type:char
 │  └─ ProcedureDecl('hitungTotal') → tab_index:52, type:void, lev:0
 │     ├─ Param(['a', 'b', 'c']) → tab_index:53, type:integer, lev:1
 │     ├─ Param('flag') → tab_index:56, type:boolean, lev:1
 │     ├─ Declarations
 │     │  └─ VarDecl('total')
 │     └─ Block
 │        ├─ Assign('total' := a+b+c) → type:integer
 │        └─ If
 │           ├─ 'flag' → tab_index:56, type:boolean, lev:1
 │           ├─ Assign('x' := total) → type:integer
 │           └─ Assign('y' := total) → type:integer
 └─ Block
    ├─ Assign('x' := 10) → type:integer
    ├─ Assign('y' := 20) → type:integer
    ├─ Assign('z' := MAX_NILAI) → type:integer
    ├─ Assign('selesaiFlag' := x>0) → type:boolean
    ├─ Assign('karakter' := ''A'') → type:char
    ├─ Assign('z' := x+y*2) → type:integer
    ├─ Assign('z' := x+y*2) → type:integer
    ├─ Assign('z' := x/2) → type:integer
    ├─ Assign('z' := ymod3) → type:integer
    ├─ Assign('x' := kuadrat(...)) → type:integer
    ├─ Assign('y' := faktorial(...)) → type:integer
    ├─ tampilkan(...) → tab_index:49, type:void, lev:0
    ├─ hitungTotal(...) → tab_index:52, type:void, lev:0
    ├─ If
    │  ├─ BinOp '>' → type:boolean, lev:0
    │  │  ├─ 'x' → tab_index:36, type:integer, lev:0
    │  │  └─ 'y' → tab_index:37, type:integer, lev:0
    │  ├─ Assign('z' := x-y) → type:integer
    │  └─ Assign('z' := y-x) → type:integer
    ├─ While
    │  ├─ BinOp '>' → type:boolean, lev:0
    │  │  ├─ 'x' → tab_index:36, type:integer, lev:0
    │  │  └─ 0 → type:integer, lev:0
    │  └─ Block
    │     ├─ Assign('x' := x-1) → type:integer
    │     └─ Assign('y' := y+1) → type:integer
    ├─ For('z' to)
    │  ├─ 1 → type:integer, lev:0
    │  ├─ 10 → type:integer, lev:0
    │  └─ Assign('x' := x+z) → type:integer
    ├─ Repeat
    │  ├─ Assign('y' := y-1) → type:integer
    │  └─ BinOp '=' → type:boolean, lev:0
    │     ├─ 'y' → tab_index:37, type:integer, lev:0
    │     └─ 0 → type:integer, lev:0
    ├─ Assign('selesaiFlag' := x>0dany<100) → type:boolean
    ├─ Assign('selesaiFlag' := tidak(...)) → type:boolean
    ├─ Assign('selesaiFlag' := selesaiFlagataux=0) → type:boolean
    └─ writeln(...) → predefined