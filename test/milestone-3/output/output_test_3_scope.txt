======================================================================
Pascal-S Compiler - AST Output
Source: test/milestone-3/input/test_3_scope.pas
======================================================================

----------------------------------------------------------------------
SYMBOL TABLE:
----------------------------------------------------------------------
tab (identifier table):
idx  id                  obj         typ   ref   nrm  lev  adr  link 
---------------------------------------------------------------------
0    program             (reserved word)
1    variabel            (reserved word)
2    mulai               (reserved word)
3    selesai             (reserved word)
4    jika                (reserved word)
5    maka                (reserved word)
6    selain-itu          (reserved word)
7    selama              (reserved word)
8    lakukan             (reserved word)
9    untuk               (reserved word)
10   ke                  (reserved word)
11   turun-ke            (reserved word)
12   integer             (reserved word)
13   real                (reserved word)
14   boolean             (reserved word)
15   char                (reserved word)
16   larik               (reserved word)
17   dari                (reserved word)
18   prosedur            (reserved word)
19   fungsi              (reserved word)
20   konstanta           (reserved word)
21   tipe                (reserved word)
22   string              (reserved word)
23   kasus               (reserved word)
24   ulangi              (reserved word)
25   sampai              (reserved word)
26   rekaman             (reserved word)
27   dan                 (reserved word)
28   atau                (reserved word)
29   tidak               (reserved word)
30   bagi                (reserved word)
31   mod                 (reserved word)
32   TestScopeShadowing  program     0     -1    1    0    0    -1   
33   GLOBAL_CONST        constant    1     0     1    0    0    32   
34   x                   variable    1     -1    1    0    0    33   
35   y                   variable    1     -1    1    0    1    34   
36   total               variable    1     -1    1    0    2    35   
37   prosesShadow        procedure   0     1     1    0    0    -1   
38   dummy               parameter   1     -1    1    1    3    -1   
39   x                   variable    1     -1    1    1    4    38   
40   temp                variable    1     -1    1    1    5    39   
41   hitungNilai         function    1     2     1    0    0    40   
42   x                   parameter   1     -1    1    1    6    40   
43   result              variable    1     -1    1    1    7    42   
44   testAkses           procedure   0     3     1    0    0    43   
45   nilai               parameter   1     -1    1    1    8    43   
46   lokal               variable    1     -1    1    1    9    45   

btab (block table):
idx  last   lpar   psze   vsze   
---------------------------------
0    -1     -1     0      0      
1    40     38     1      0      
2    43     42     1      0      
3    46     45     1      0      

atab (array table):
atab: (kosong karena tidak ada array)

----------------------------------------------------------------------
DECORATED AST:
Legend: → tab_index:<idx>, type:<type>, lev:<scope_level>
----------------------------------------------------------------------

ProgramNode(name: 'TestScopeShadowing')
 ├─ Declarations
 │  ├─ ConstDecl('GLOBAL_CONST') → tab_index:33, type:integer, lev:0
 │  ├─ VarDecl('x')
 │  ├─ VarDecl('y')
 │  ├─ VarDecl('total')
 │  ├─ ProcedureDecl('prosesShadow') → tab_index:37, type:void, lev:0
 │  │  ├─ Param('dummy') → tab_index:38, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  ├─ VarDecl('x')
 │  │  │  └─ VarDecl('temp')
 │  │  └─ Block
 │  │     ├─ Assign('x' := 50) → type:integer
 │  │     ├─ Assign('temp' := x+10) → type:integer
 │  │     ├─ Assign('y' := temp) → type:integer
 │  │     └─ Assign('total' := x+y) → type:integer
 │  ├─ FunctionDecl('hitungNilai') → tab_index:41, type:integer, lev:0
 │  │  ├─ Param('x') → tab_index:42, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  └─ VarDecl('result')
 │  │  └─ Block
 │  │     ├─ Assign('result' := x*2) → type:integer
 │  │     └─ Assign('result' := result+y) → type:integer
 │  └─ ProcedureDecl('testAkses') → tab_index:44, type:void, lev:0
 │     ├─ Param('nilai') → tab_index:45, type:integer, lev:1
 │     ├─ Declarations
 │     │  └─ VarDecl('lokal')
 │     └─ Block
 │        ├─ Assign('lokal' := nilai) → type:integer
 │        ├─ Assign('x' := lokal) → type:integer
 │        ├─ Assign('y' := GLOBAL_CONST) → type:integer
 │        └─ Assign('total' := x+y+lokal) → type:integer
 └─ Block
    ├─ Assign('x' := 1) → type:integer
    ├─ Assign('y' := 2) → type:integer
    ├─ Assign('total' := 0) → type:integer
    ├─ prosesShadow(...) → tab_index:37, type:void, lev:0
    ├─ Assign('total' := hitungNilai(...)) → type:integer
    └─ testAkses(...) → tab_index:44, type:void, lev:0