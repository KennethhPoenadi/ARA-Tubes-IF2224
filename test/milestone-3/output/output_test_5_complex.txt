======================================================================
Pascal-S Compiler - AST Output
Source: test/milestone-3/input/test_5_complex.pas
======================================================================

----------------------------------------------------------------------
SYMBOL TABLE:
----------------------------------------------------------------------
tab (identifier table):
idx  id                  obj         typ   ref   nrm  lev  adr  link 
---------------------------------------------------------------------
0    program             (reserved word)
1    variabel            (reserved word)
2    mulai               (reserved word)
3    selesai             (reserved word)
4    jika                (reserved word)
5    maka                (reserved word)
6    selain-itu          (reserved word)
7    selama              (reserved word)
8    lakukan             (reserved word)
9    untuk               (reserved word)
10   ke                  (reserved word)
11   turun-ke            (reserved word)
12   integer             (reserved word)
13   real                (reserved word)
14   boolean             (reserved word)
15   char                (reserved word)
16   larik               (reserved word)
17   dari                (reserved word)
18   prosedur            (reserved word)
19   fungsi              (reserved word)
20   konstanta           (reserved word)
21   tipe                (reserved word)
22   string              (reserved word)
23   kasus               (reserved word)
24   ulangi              (reserved word)
25   sampai              (reserved word)
26   rekaman             (reserved word)
27   dan                 (reserved word)
28   atau                (reserved word)
29   tidak               (reserved word)
30   bagi                (reserved word)
31   mod                 (reserved word)
32   TestKompleks        program     0     -1    1    0    0    -1   
33   MAX_SIZE            constant    1     0     1    0    0    32   
34   MIN_VALUE           constant    1     0     1    0    0    33   
35   MULTIPLIER          constant    1     0     1    0    0    34   
36   data                variable    5     0     1    0    0    35   
37   hasil               variable    5     1     1    0    10   36   
38   matrix              variable    5     2     1    0    20   37   
39   i                   variable    1     -1    1    0    25   38   
40   j                   variable    1     -1    1    0    26   39   
41   k                   variable    1     -1    1    0    27   40   
42   total               variable    1     -1    1    0    28   41   
43   rata                variable    1     -1    1    0    29   42   
44   selesaiProses       variable    3     -1    1    0    30   43   
45   cariMax             function    1     1     1    0    0    -1   
46   awalIdx             parameter   1     -1    1    1    31   -1   
47   akhirIdx            parameter   1     -1    1    1    32   46   
48   maxVal              variable    1     -1    1    1    33   47   
49   idx                 variable    1     -1    1    1    34   48   
50   hitungJumlah        function    1     2     1    0    0    49   
51   awal                parameter   1     -1    1    1    35   49   
52   akhir               parameter   1     -1    1    1    36   51   
53   sum                 variable    1     -1    1    1    37   52   
54   counter             variable    1     -1    1    1    38   53   
55   initArray           procedure   0     3     1    0    0    54   
56   dummy               parameter   1     -1    1    1    39   54   
57   idx                 variable    1     -1    1    1    40   56   
58   prosesNested        procedure   0     4     1    0    0    57   
59   dummy               parameter   1     -1    1    1    41   57   
60   outer               variable    1     -1    1    1    42   59   
61   inner               variable    1     -1    1    1    43   60   
62   tempSum             variable    1     -1    1    1    44   61   
63   prosesKondisi       procedure   0     5     1    0    0    62   
64   dummy               parameter   1     -1    1    1    45   62   
65   counter             variable    1     -1    1    1    46   64   
66   temp                variable    1     -1    1    1    47   65   
67   mainProses          procedure   0     6     1    0    0    66   
68   dummy               parameter   1     -1    1    1    48   66   
69   maxVal              variable    1     -1    1    1    49   68   
70   sumVal              variable    1     -1    1    1    50   69   

btab (block table):
idx  last   lpar   psze   vsze   
---------------------------------
0    -1     -1     0      0      
1    49     47     2      0      
2    54     52     2      0      
3    57     56     1      0      
4    62     59     1      0      
5    66     64     1      0      
6    70     68     1      0      

atab (array table):
idx  xtyp  etyp  eref   low   high  elsz   size  
-------------------------------------------------
0    1     1     -1     1     10    1      10    
1    1     1     -1     1     10    1      10    
2    1     1     -1     1     5     1      5     

----------------------------------------------------------------------
DECORATED AST:
Legend: → tab_index:<idx>, type:<type>, lev:<scope_level>
----------------------------------------------------------------------

ProgramNode(name: 'TestKompleks')
 ├─ Declarations
 │  ├─ ConstDecl('MAX_SIZE') → tab_index:33, type:integer, lev:0
 │  ├─ ConstDecl('MIN_VALUE') → tab_index:34, type:integer, lev:0
 │  ├─ ConstDecl('MULTIPLIER') → tab_index:35, type:integer, lev:0
 │  ├─ VarDecl('data')
 │  ├─ VarDecl('hasil')
 │  ├─ VarDecl('matrix')
 │  ├─ VarDecl('i')
 │  ├─ VarDecl('j')
 │  ├─ VarDecl('k')
 │  ├─ VarDecl('total')
 │  ├─ VarDecl('rata')
 │  ├─ VarDecl('selesaiProses')
 │  ├─ FunctionDecl('cariMax') → tab_index:45, type:integer, lev:0
 │  │  ├─ Param(['awalIdx', 'akhirIdx']) → tab_index:46, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  ├─ VarDecl('maxVal')
 │  │  │  └─ VarDecl('idx')
 │  │  └─ Block
 │  │     ├─ Assign('maxVal' := data[...]) → type:integer
 │  │     └─ For('idx' to)
 │  │        ├─ 'awalIdx' → tab_index:46, type:integer, lev:1
 │  │        ├─ 'akhirIdx' → tab_index:47, type:integer, lev:1
 │  │        └─ If
 │  │           ├─ BinOp '>' → type:boolean, lev:1
 │  │           │  ├─ 'data[...]' → tab_index:36, type:integer, lev:0
 │  │           │  │  └─ 'idx' → tab_index:49, type:integer, lev:1
 │  │           │  └─ 'maxVal' → tab_index:48, type:integer, lev:1
 │  │           └─ Assign('maxVal' := data[...]) → type:integer
 │  ├─ FunctionDecl('hitungJumlah') → tab_index:50, type:integer, lev:0
 │  │  ├─ Param(['awal', 'akhir']) → tab_index:51, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  ├─ VarDecl('sum')
 │  │  │  └─ VarDecl('counter')
 │  │  └─ Block
 │  │     ├─ Assign('sum' := 0) → type:integer
 │  │     ├─ Assign('counter' := awal) → type:integer
 │  │     └─ While
 │  │        ├─ BinOp '<=' → type:boolean, lev:1
 │  │        │  ├─ 'counter' → tab_index:54, type:integer, lev:1
 │  │        │  └─ 'akhir' → tab_index:52, type:integer, lev:1
 │  │        └─ Block
 │  │           ├─ Assign('sum' := sum+data[...]) → type:integer
 │  │           └─ Assign('counter' := counter+1) → type:integer
 │  ├─ ProcedureDecl('initArray') → tab_index:55, type:void, lev:0
 │  │  ├─ Param('dummy') → tab_index:56, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  └─ VarDecl('idx')
 │  │  └─ Block
 │  │     └─ For('idx' to)
 │  │        ├─ 1 → type:integer, lev:1
 │  │        ├─ 'MAX_SIZE' → tab_index:33, type:integer, lev:0
 │  │        └─ Block
 │  │           ├─ Assign('ArrayAccessNode(array='data')' := idx*MULTIPLIER) → type:integer
 │  │           └─ Assign('ArrayAccessNode(array='hasil')' := 0) → type:integer
 │  ├─ ProcedureDecl('prosesNested') → tab_index:58, type:void, lev:0
 │  │  ├─ Param('dummy') → tab_index:59, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  ├─ VarDecl('outer')
 │  │  │  ├─ VarDecl('inner')
 │  │  │  └─ VarDecl('tempSum')
 │  │  └─ Block
 │  │     ├─ For('outer' to)
 │  │     │  ├─ 1 → type:integer, lev:1
 │  │     │  ├─ 5 → type:integer, lev:1
 │  │     │  └─ Block
 │  │     │     ├─ Assign('tempSum' := 0) → type:integer
 │  │     │     ├─ For('inner' to)
 │  │     │     │  ├─ 1 → type:integer, lev:1
 │  │     │     │  ├─ 'outer' → tab_index:60, type:integer, lev:1
 │  │     │     │  └─ Assign('tempSum' := tempSum+data[...]) → type:integer
 │  │     │     └─ Assign('ArrayAccessNode(array='matrix')' := tempSum) → type:integer
 │  │     └─ For('outer' to)
 │  │        ├─ 1 → type:integer, lev:1
 │  │        ├─ 'MAX_SIZE' → tab_index:33, type:integer, lev:0
 │  │        └─ Block
 │  │           ├─ Assign('inner' := 1) → type:integer
 │  │           └─ While
 │  │              ├─ BinOp '<=' → type:boolean, lev:1
 │  │              │  ├─ 'inner' → tab_index:61, type:integer, lev:1
 │  │              │  └─ 'outer' → tab_index:60, type:integer, lev:1
 │  │              └─ Block
 │  │                 ├─ Assign('ArrayAccessNode(array='hasil')' := hasil[...]+data[...]) → type:integer
 │  │                 └─ Assign('inner' := inner+1) → type:integer
 │  ├─ ProcedureDecl('prosesKondisi') → tab_index:63, type:void, lev:0
 │  │  ├─ Param('dummy') → tab_index:64, type:integer, lev:1
 │  │  ├─ Declarations
 │  │  │  ├─ VarDecl('counter')
 │  │  │  └─ VarDecl('temp')
 │  │  └─ Block
 │  │     ├─ Assign('counter' := 1) → type:integer
 │  │     └─ Repeat
 │  │        ├─ If
 │  │        │  ├─ BinOp '>' → type:boolean, lev:1
 │  │        │  │  ├─ 'data[...]' → tab_index:36, type:integer, lev:0
 │  │        │  │  │  └─ 'counter' → tab_index:65, type:integer, lev:1
 │  │        │  │  └─ 10 → type:integer, lev:1
 │  │        │  ├─ If
 │  │        │  │  ├─ BinOp '>' → type:boolean, lev:1
 │  │        │  │  │  ├─ 'data[...]' → tab_index:36, type:integer, lev:0
 │  │        │  │  │  │  └─ 'counter' → tab_index:65, type:integer, lev:1
 │  │        │  │  │  └─ 15 → type:integer, lev:1
 │  │        │  │  ├─ Assign('ArrayAccessNode(array='hasil')' := data[...]*2) → type:integer
 │  │        │  │  └─ Assign('ArrayAccessNode(array='hasil')' := data[...]+5) → type:integer
 │  │        │  └─ If
 │  │        │     ├─ BinOp '>' → type:boolean, lev:1
 │  │        │     │  ├─ 'data[...]' → tab_index:36, type:integer, lev:0
 │  │        │     │  │  └─ 'counter' → tab_index:65, type:integer, lev:1
 │  │        │     │  └─ 5 → type:integer, lev:1
 │  │        │     ├─ Assign('ArrayAccessNode(array='hasil')' := data[...]+2) → type:integer
 │  │        │     └─ Assign('ArrayAccessNode(array='hasil')' := data[...]) → type:integer
 │  │        ├─ Assign('counter' := counter+1) → type:integer
 │  │        └─ BinOp '>' → type:boolean, lev:1
 │  │           ├─ 'counter' → tab_index:65, type:integer, lev:1
 │  │           └─ 'MAX_SIZE' → tab_index:33, type:integer, lev:0
 │  └─ ProcedureDecl('mainProses') → tab_index:67, type:void, lev:0
 │     ├─ Param('dummy') → tab_index:68, type:integer, lev:1
 │     ├─ Declarations
 │     │  ├─ VarDecl('maxVal')
 │     │  └─ VarDecl('sumVal')
 │     └─ Block
 │        ├─ initArray(...) → tab_index:55, type:void, lev:0
 │        ├─ prosesNested(...) → tab_index:58, type:void, lev:0
 │        ├─ prosesKondisi(...) → tab_index:63, type:void, lev:0
 │        ├─ Assign('maxVal' := cariMax(...)) → type:integer
 │        ├─ Assign('sumVal' := hitungJumlah(...)) → type:integer
 │        ├─ Assign('total' := sumVal) → type:integer
 │        ├─ Assign('rata' := total/5) → type:integer
 │        └─ Assign('selesaiProses' := total>0) → type:boolean
 └─ Block
    ├─ Assign('i' := 0) → type:integer
    ├─ Assign('j' := 0) → type:integer
    ├─ Assign('k' := 0) → type:integer
    ├─ Assign('total' := 0) → type:integer
    ├─ Assign('rata' := 0) → type:integer
    ├─ Assign('selesaiProses' := total=0) → type:boolean
    ├─ For('i' to)
    │  ├─ 1 → type:integer, lev:0
    │  ├─ 'MAX_SIZE' → tab_index:33, type:integer, lev:0
    │  └─ Assign('ArrayAccessNode(array='data')' := i) → type:integer
    ├─ mainProses(...) → tab_index:67, type:void, lev:0
    ├─ Assign('i' := 1) → type:integer
    ├─ While
    │  ├─ BinOp '<=' → type:boolean, lev:0
    │  │  ├─ 'i' → tab_index:39, type:integer, lev:0
    │  │  └─ 5 → type:integer, lev:0
    │  └─ Block
    │     ├─ Assign('j' := 1) → type:integer
    │     ├─ While
    │     │  ├─ BinOp '<=' → type:boolean, lev:0
    │     │  │  ├─ 'j' → tab_index:40, type:integer, lev:0
    │     │  │  └─ 5 → type:integer, lev:0
    │     │  └─ Block
    │     │     ├─ Assign('k' := data[...]+data[...]) → type:integer
    │     │     ├─ If
    │     │     │  ├─ BinOp '>' → type:boolean, lev:0
    │     │     │  │  ├─ 'k' → tab_index:41, type:integer, lev:0
    │     │     │  │  └─ 10 → type:integer, lev:0
    │     │     │  ├─ If
    │     │     │  │  ├─ BinOp '=' → type:boolean, lev:0
    │     │     │  │  │  ├─ BinOp 'mod' → type:integer, lev:0
    │     │     │  │  │  │  ├─ 'k' → tab_index:41, type:integer, lev:0
    │     │     │  │  │  │  └─ 2 → type:integer, lev:0
    │     │     │  │  │  └─ 0 → type:integer, lev:0
    │     │     │  │  ├─ Assign('total' := total+k) → type:integer
    │     │     │  │  └─ Assign('total' := total+1) → type:integer
    │     │     │  └─ Assign('total' := total) → type:integer
    │     │     └─ Assign('j' := j+1) → type:integer
    │     └─ Assign('i' := i+1) → type:integer
    ├─ For('i' downto)
    │  ├─ 'MAX_SIZE' → tab_index:33, type:integer, lev:0
    │  ├─ 1 → type:integer, lev:0
    │  └─ Assign('ArrayAccessNode(array='hasil')' := hasil[...]+i) → type:integer
    ├─ Assign('total' := hitungJumlah(...)) → type:integer
    ├─ Assign('rata' := total/MAX_SIZE) → type:integer
    └─ Assign('selesaiProses' := total>0) → type:boolean